!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.anime=e()}(this,()=>{function t(t,e){return t.indexOf(e)>-1}function e(t){if(!j.col(t))try{return document.querySelectorAll(t)}catch(t){return}}function n(t,e){const n=t.length,r=arguments.length>=2?arguments[1]:void 0;let o=[];for(let a=0;a<n;a++)if(a in t){const n=t[a];e.call(r,n,a,t)&&o.push(n)}return o}function r(t){return t.reduce((t,e)=>t.concat(j.arr(e)?r(e):e),[])}function o(t){return j.arr(t)?t:(j.str(t)&&(t=e(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function a(t,e){return t.some(t=>t===e)}function i(t){let e={};for(let n in t)e[n]=t[n];return e}function s(t,e){let n=i(t);for(let r in t)n[r]=e.hasOwnProperty(r)?e[r]:t[r];return n}function u(t,e){let n=i(t);for(let r in e)n[r]=j.und(t[r])?e[r]:t[r];return n}function c(t){const e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[2]}function l(t,e,n){return Math.min(Math.max(t,e),n)}function f(t,e){return j.fnc(t)?t(e.target,e.id,e.total):t}function d(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function p(t,e){return j.dom(t)&&a(O,e)?"transform":j.dom(t)&&(t.getAttribute(e)||j.svg(t)&&t[e])?"attribute":j.dom(t)&&"transform"!==e&&d(t,e)?"css":null!=t[e]?"object":void 0}function g(e,r){switch(p(e,r)){case"transform":return function(e,r){const o=function(e){return t(e,"translate")||"perspective"===e?"px":t(e,"rotate")||t(e,"skew")?"deg":void 0}(r),a=t(r,"scale")?1:0+o,i=e.style.transform;if(!i)return a;let s=[],u=[],c=[];const l=/(\w+)\((.+?)\)/g;for(;s=l.exec(i);)u.push(s[1]),c.push(s[2]);const f=n(c,(t,e)=>u[e]===r);return f.length?f[0]:a}(e,r);case"css":return d(e,r);case"attribute":return e.getAttribute(r)}return e[r]||0}function h(t,e){const n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;const r=c(t)||0,o=parseFloat(e),a=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return o+a+r;case"-":return o-a+r;case"*":return o*a+r}}function m(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function y(t){const e=t.points;let n,r=0;for(let o=0;o<e.numberOfItems;o++){const t=e.getItem(o);o>0&&(r+=m(n,t)),n=t}return r}function b(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return function(t){return 2*Math.PI*t.getAttribute("r")}(t);case"rect":return function(t){return 2*t.getAttribute("width")+2*t.getAttribute("height")}(t);case"line":return function(t){return m({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")})}(t);case"polyline":return y(t);case"polygon":return function(e){const n=t.points;return y(t)+m(n.getItem(n.numberOfItems-1),n.getItem(0))}()}}function x(t,e){function n(n=0){return t.el.getPointAtLength(e+n>=1?e+n:0)}const r=n(),o=n(-1),a=n(1);switch(t.property){case"x":return r.x;case"y":return r.y;case"angle":return 180*Math.atan2(a.y-o.y,a.x-o.x)/Math.PI}}function v(t,e){const n=/-?\d*\.?\d+/g,r=function(t,e){if(j.col(t))return function(t){return j.rgb(t)?function(t){const e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?`rgba(${e[1]},1)`:t}(t):j.hex(t)?function(e){const n=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(t,e,n,r)=>e+e+n+n+r+r),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return`rgba(${parseInt(r[1],16)},${parseInt(r[2],16)},${parseInt(r[3],16)},1)`}():j.hsl(t)?function(t){function e(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}const n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),r=parseInt(n[1])/360,o=parseInt(n[2])/100,a=parseInt(n[3])/100,i=n[4]||1;let s,u,c;if(0==o)s=u=c=a;else{const t=a<.5?a*(1+o):a+o-a*o,n=2*a-t;s=e(n,t,r+1/3),u=e(n,t,r),c=e(n,t,r-1/3)}return`rgba(${255*s},${255*u},${255*c},${i})`}(t):void 0}(t);const n=c(t),r=n?t.substr(0,t.length-n.length):t;return e&&!/\s/g.test(t)?r+e:r}(j.pth(t)?t.totalLength:t,e)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:j.str(t)||e?r.split(n):[]}}function w(t){return n(t?r(j.arr(t)?t.map(o):o(t)):[],(t,e,n)=>n.indexOf(t)===e)}function A(t,e){let n=i(e);if(j.arr(t)){const r=t.length;2!==r||j.obj(t[0])?j.fnc(e.duration)||(n.duration=e.duration/r):t={value:t}}return o(t).map((t,n)=>{const r=n?0:e.delay;let o=j.obj(t)&&!j.pth(t)?t:{value:t};return j.und(o.delay)&&(o.delay=r),o}).map(t=>u(t,n))}function M(t,e,n,r){const o="delay"===t;return e.length?(o?Math.min:Math.max).apply(Math,e.map(e=>e[t])):o?r.delay:n.offset+r.delay+r.duration}function $(t={}){function e(){return window.Promise&&new Promise(t=>X=t)}function o(){Z.reversed=!Z.reversed}function a(t){return Z.reversed?Z.duration-t:t}function i(t){let e=0,r={};const o=Z.animations,a=o.length;for(;e<a;){const a=o[e],i=a.animatable,s=a.tweens,u=s.length-1;let c=s[u];u&&(c=n(s,e=>t<e.end)[0]||c);const f=l(t-c.start-c.delay,0,c.duration)/c.duration,d=isNaN(f)?1:c.easing(f,c.elasticity),p=c.to.strings,g=c.round;let h,m=[];const y=c.to.numbers.length;for(let t=0;t<y;t++){let e;const n=c.to.numbers[t],r=c.from.numbers[t];e=c.isPath?x(c.value,d*n):r+d*(n-r),g&&(c.isColor&&t>2||(e=Math.round(e*g)/g)),m.push(e)}const b=p.length;if(b){h=p[0];for(let t=0;t<b;t++){const e=p[t+1],n=m[t];isNaN(n)||(h+=e?n+e:n+" ")}}else h=m[0];C[a.type](i.target,a.property,h,r,i.id),a.currentValue=h,e++}const i=Object.keys(r).length;if(i)for(let n=0;n<i;n++){if(!P){const t="transform";P=d(document.body,t)?t:`-webkit-${t}`}Z.animatables[n].target.style[P]=r[n].join(" ")}Z.currentTime=t,Z.progress=t/Z.duration*100}function m(t){Z[t]&&Z[t](Z)}function y(){Z.remaining&&!0!==Z.remaining&&Z.remaining--}function b(t){const n=Z.duration,r=Z.offset,s=r+Z.delay,u=Z.currentTime,c=Z.reversed,l=a(t);Z.children.length&&function(t){const e=Z.children,n=e.length;if(t>=Z.currentTime)for(let r=0;r<n;r++)e[r].seek(t);else for(let r=n;r--;)e[r].seek(t)}(l),(l>=s||!n)&&(Z.began||(Z.began=!0,m("begin")),m("run")),l>r&&l<n?i(l):(l<=r&&0!==u&&(i(0),c&&y()),(l>=n&&u!==n||!n)&&(i(n),c||y())),m("update"),t>=n&&(Z.remaining?(S=O,"alternate"===Z.direction&&o()):(Z.pause(),Z.completed||(Z.completed=!0,m("complete"),"Promise"in window&&(X(),Y=e()))),V=0)}let O,S,V=0,X=null,Y=e(),Z=function(t){const e=s(I,t),o=s(k,t),a=function(e){const n=w(t.targets);return n.map((t,e)=>({target:t,id:e,total:n.length}))}(),i=function(t,e){return n(r(t.map(t=>e.map(e=>(function(t,e){const n=p(t.target,e.name);if(n){const r=function(t,e){let n;return t.tweens.map(r=>{let o=function(t,e){let n={};for(let r in t){let o=f(t[r],e);j.arr(o)&&1===(o=o.map(t=>f(t,e))).length&&(o=o[0]),n[r]=o}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,e);const a=o.value,i=g(e.target,t.name),s=n?n.to.original:i,u=j.arr(a)?a[0]:s,d=h(j.arr(a)?a[1]:a,u),p=c(d)||c(u)||c(i);return o.from=v(u,p),o.to=v(d,p),o.start=n?n.end:t.offset,o.end=o.start+o.delay+o.duration,o.easing=function(t){return j.arr(t)?L.apply(this,t):T[t]}(o.easing),o.elasticity=(1e3-l(o.elasticity,1,999))/1e3,o.isPath=j.pth(a),o.isColor=j.col(o.from.original),o.isColor&&(o.round=1),n=o,o})}(e,t);return{type:n,property:e.name,animatable:t,tweens:r,duration:r[r.length-1].end,delay:r[0].delay}}})(t,e)))),t=>!j.und(t))}(a,function(t,n,r){let o=[];const a=u(e,n);for(let e in r)a.hasOwnProperty(e)||"targets"===e||o.push({name:e,offset:a.offset,tweens:A(r[e],n)});return o}(0,o,t));return u(e,{children:[],animatables:a,animations:i,duration:M("duration",i,e,o),delay:M("delay",i,e,o)})}(t);return Z.reset=function(){const t=Z.direction,e=Z.loop;Z.currentTime=0,Z.progress=0,Z.paused=!0,Z.began=!1,Z.completed=!1,Z.reversed="reverse"===t,Z.remaining="alternate"===t&&1===e?2:e,i(0);for(let n=Z.children.length;n--;)Z.children[n].reset()},Z.tick=function(t){O=t,S||(S=O),b((V+O-S)*$.speed)},Z.seek=function(t){b(a(t))},Z.pause=function(){const t=F.indexOf(Z);t>-1&&F.splice(t,1),Z.paused=!0},Z.play=function(){Z.paused&&(Z.paused=!1,S=0,V=a(Z.currentTime),F.push(Z),E||N())},Z.reverse=function(){o(),S=0,V=a(Z.currentTime)},Z.restart=function(){Z.pause(),Z.reset(),Z.play()},Z.finished=Y,Z.reset(),Z.autoplay&&Z.play(),Z}const I={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},k={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},O=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skewX","skewY","perspective"];let P;const j={arr:t=>Array.isArray(t),obj:e=>t(Object.prototype.toString.call(e),"Object"),pth:t=>j.obj(t)&&t.hasOwnProperty("totalLength"),svg:t=>t instanceof SVGElement,dom:t=>t.nodeType||j.svg(t),str:t=>"string"==typeof t,fnc:t=>"function"==typeof t,und:t=>"undefined"==typeof t,hex:t=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t),rgb:t=>/^rgb/.test(t),hsl:t=>/^hsl/.test(t),col:t=>j.hex(t)||j.rgb(t)||j.hsl(t)},L=(()=>{function t(t,e){return 1-3*e+3*t}function e(t,e){return 3*e-6*t}function n(t){return 3*t}function r(r,o,a){return((t(o,a)*r+e(o,a))*r+n(o))*r}function o(r,o,a){return 3*t(o,a)*r*r+2*e(o,a)*r+n(o)}return function(t,e,n,a){if(!(0<=t&&t<=1&&0<=n&&n<=1))return;let i=new Float32Array(11);if(t!==e||n!==a)for(let o=0;o<11;++o)i[o]=r(.1*o,t,n);return s=>t===e&&n===a?s:0===s?0:1===s?1:r(function(e){let a=0,s=1;for(;10!==s&&i[s]<=e;++s)a+=.1;const u=a+(e-i[--s])/(i[s+1]-i[s])*.1,c=o(u,t,n);return c>=.001?function(t,e,n,a){for(let i=0;i<4;++i){const i=o(e,n,a);if(0===i)return e;e-=(r(e,n,a)-t)/i}return e}(e,u,t,n):0===c?u:function(t,e,n,o,a){let i,s,u=0;do{(i=r(s=e+(n-e)/2,o,a)-t)>0?n=s:e=s}while(Math.abs(i)>1e-7&&++u<10);return s}(e,a,a+.1,t,n)}(s),e,a)}})(),T=(()=>{function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin((t-1-e/(2*Math.PI)*Math.asin(1))*(2*Math.PI)/e)}const e=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],n={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],(e,n)=>1-t(1-e,n)],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],(e,n)=>e<.5?t(2*e,n)/2:1-t(-2*e+2,n)/2]};let r={linear:L(.25,.25,.75,.75)};for(let o in n)n[o].forEach((t,n)=>{r["ease"+o+e[n]]=j.fnc(t)?t:L.apply(this,t)});return r})(),C={css:(t,e,n)=>t.style[e]=n,attribute:(t,e,n)=>t.setAttribute(e,n),object:(t,e,n)=>t[e]=n,transform:(t,e,n,r,o)=>{r[o]||(r[o]=[]),r[o].push(`${e}(${n})`)}};let F=[],E=0;const N=(()=>{function t(){E=requestAnimationFrame(e)}function e(e){const n=F.length;if(n){let r=0;for(;r<n;)F[r]&&F[r].tick(e),r++;t()}else cancelAnimationFrame(E),E=0}return t})();return $.version="2.2.0",$.speed=1,$.running=F,$.remove=function(t){const e=w(t);for(let n=F.length;n--;){const t=F[n],r=t.animations;for(let n=r.length;n--;)a(e,r[n].animatable.target)&&(r.splice(n,1),r.length||t.pause())}},$.getValue=g,$.path=function(t,n){const r=j.str(t)?e(t)[0]:t,o=n||100;return function(t){return{el:r,property:t,totalLength:b(r)*(o/100)}}},$.setDashoffset=function(t){const e=b(t);return t.setAttribute("stroke-dasharray",e),e},$.bezier=L,$.easings=T,$.timeline=function(t){let e=$(t);return e.pause(),e.duration=0,e.add=function(n){return e.children.forEach(t=>{t.began=!0,t.completed=!0}),o(n).forEach(n=>{let r=u(n,s(k,t||{}));r.targets=r.targets||t.targets;const o=e.duration,a=r.offset;r.autoplay=!1,r.direction=e.direction,r.offset=j.und(a)?o:h(a,o),e.began=!0,e.completed=!0,e.seek(r.offset);const i=$(r);i.began=!0,i.completed=!0,i.duration>o&&(e.duration=i.duration),e.children.push(i)}),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},$.random=((t,e)=>Math.floor(Math.random()*(e-t+1))+t),$});